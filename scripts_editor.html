<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Field Scripts Editor - Update Transcriptions</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 0.9em;
        }

        .instructions {
            background-color: #e8f4e8;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 30px;
            border-left: 4px solid #2c5f2d;
        }

        .script {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 30px;
        }

        .script-title {
            color: #2c5f2d;
            font-size: 1.3em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e0e0e0;
        }

        .clip {
            margin-bottom: 25px;
            padding: 15px;
            background-color: #fafafa;
            border-radius: 6px;
            border-left: 3px solid #97bc62;
        }

        .clip-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .clip-number {
            font-weight: bold;
            color: #2c5f2d;
        }

        .verified-badge {
            font-size: 0.8em;
            padding: 3px 8px;
            border-radius: 3px;
            background-color: #d4edda;
            color: #155724;
        }

        .needs-check-badge {
            font-size: 0.8em;
            padding: 3px 8px;
            border-radius: 3px;
            background-color: #fff3cd;
            color: #856404;
        }

        audio {
            width: 100%;
            height: 40px;
            margin-bottom: 10px;
        }

        textarea {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1em;
            font-family: inherit;
            resize: vertical;
        }

        textarea:focus {
            outline: none;
            border-color: #97bc62;
            box-shadow: 0 0 0 2px rgba(151, 188, 98, 0.2);
        }

        .button-group {
            margin-top: 10px;
            display: flex;
            gap: 10px;
        }

        button {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
        }

        .save-btn {
            background-color: #2c5f2d;
            color: white;
        }

        .save-btn:hover {
            background-color: #1f4420;
        }

        .export-btn {
            background-color: #0066cc;
            color: white;
            padding: 12px 24px;
            font-size: 1em;
            position: fixed;
            bottom: 30px;
            right: 30px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .export-btn:hover {
            background-color: #0052a3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Field Scripts Transcription Editor</h1>
        <p class="subtitle">Play each clip and update the text to match what you hear</p>

        <div class="instructions">
            <strong>Instructions:</strong>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>Play each audio clip</li>
                <li>Edit the text field to match what you actually hear</li>
                <li>Click "Save" to mark it as verified</li>
                <li>When done, click "Export All" to download the corrected transcriptions</li>
            </ul>
        </div>

        <div id="scripts-container"></div>

        <button class="export-btn" onclick="exportData()">Export All Transcriptions</button>
    </div>

    <script>
        const scriptsData = {
            "script_1": {
                "clips": [
                    {"num": 1, "file": "script_1/script_1_clip_01a.wav", "text": "I had had other skillets like Lodge, cheaper, and I never felt connected to it enough to try to figure it out as much as I did with Field, because it felt so beautiful and smooth.", "verified": false},
                    {"num": 2, "file": "script_1/script_1_clip_02a.wav", "text": "And so I think something about that inspired me.", "verified": false},
                    {"num": 3, "file": "script_1/script_1_clip_03a.wav", "text": "I started making scrambled eggs in it. And it was easy and they were nonstick, and it started to give me more and more confidence.", "verified": false},
                    {"num": 4, "file": "script_1/script_1_clip_04.wav", "text": "I make a fried egg almost every day now. And with the smaller field skillets, you can literally crack an egg or two in some of them, and it keeps a perfect shape of a fried egg and you're done.", "verified": false},
                    {"num": 5, "file": "script_1/script_1_clip_05.wav", "text": "Cast iron has changed my life. I'm a better dad.", "verified": false}
                ]
            },
            "script_2": {
                "clips": [
                    {"num": 2, "file": "script_2/script_2_clip_02.wav", "text": "I think the start of cooking with cast iron was always scrambled eggs. It seems like that seems to be the test of what non stick means to someone.", "verified": false},
                    {"num": 3, "file": "script_2/script_2_clip_03.wav", "text": "And I think once you figure out that you can get a nonstick surface from cast iron, then you're not, you know, worried.", "verified": false},
                    {"num": 4, "file": "script_2/script_2_clip_04.wav", "text": "So I think those gateways led me to cast iron chicken in the oven. It led me to sauteing mushrooms and vegetables.", "verified": false},
                    {"num": 5, "file": "script_2/script_2_clip_05a.wav", "text": "I literally never used three pans at once, or even two. And just the connection to it made me start getting more creative.", "verified": false}
                ]
            },
            "script_3": {
                "clips": [
                    {"num": 1, "file": "script_3/script_3_clip_01.wav", "text": "Cast iron is kind of a gateway drug to the more intentional... a life worth living.", "verified": false},
                    {"num": 2, "file": "script_3/script_3_clip_02.wav", "text": "I think because I wanted to figure out how to cook with cast iron because it felt like it was worth it. The knowledge that you might pass it down from generation to generation.", "verified": false},
                    {"num": 3, "file": "script_3/script_3_clip_03.wav", "text": "You might bring it to a friend's house to do something with it and cook a meal that they couldn't cook before. I think it shows you that investing in it really makes it worth it.", "verified": false},
                    {"num": 4, "file": "script_3/script_3_clip_04.wav", "text": "Not just because it's non toxic, not because it's non stick. But even if you bought all those, you know, in another type of pan with a coating, I don't think you'd be bringing it on adventures, bringing it to your friend's house.", "verified": false},
                    {"num": 5, "file": "script_3/script_3_clip_05.wav", "text": "There's something really meaningful that it's an heirloom and it'll be with you forever. And I think that kind of starts to make you think about not consuming as much and buying things very intentionally that you think will also have that type of journey in your life.", "verified": false},
                    {"num": 6, "file": "script_3/script_3_clip_06.wav", "text": "It unlocked me being really comfortable and we do go car camping and we do use the grill on the backyard.", "verified": true}
                ]
            },
            "script_4": {
                "clips": [
                    {"num": 2, "file": "script_4/script_4_clip_02.wav", "text": "I've even timed it before the cleanup from making eggs. I swear, 2 minutes and 20 seconds, re oiled and ready, back on the stove to cook again.", "verified": false},
                    {"num": 3, "file": "script_4/script_4_clip_03.wav", "text": "It's way different than even the nuance of cleaning your stainless steel.", "verified": false},
                    {"num": 4, "file": "script_4/script_4_clip_04.wav", "text": "I realized that you didn't need to be so precious. Every time I cooked the seasoning and all those changes happen naturally.", "verified": false},
                    {"num": 5, "file": "script_4/script_4_clip_05.wav", "text": "I think by cooking with it, I've noticed that the seasoning gets darker and it's building more and more layers, and it's getting even more nonstick.", "verified": false},
                    {"num": 6, "file": "script_4/script_4_clip_06.wav", "text": "Which makes it almost foolproof that you can cook with it easily every time.", "verified": false}
                ]
            },
            "script_5": {
                "clips": [
                    {"num": 1, "file": "script_5/script_5_clip_01.wav", "text": "And now it's really meaningful to have my daughter who is three only know the version of someone who like literally can just like make food at any time and feel confident.", "verified": true},
                    {"num": 2, "file": "script_5/script_5_clip_02.wav", "text": "And make cool meals that we all like eating and not being intimidated by the tool that you're using because I can use it for everything and the cleanup is fast and I just use it every morning and every night.", "verified": true},
                    {"num": 3, "file": "script_5/script_5_clip_03.wav", "text": "I make a fried egg almost every day now. And with the smaller field skillets, you can literally crack an egg or two in some of them, and it keeps a perfect shape of a fried egg and you're done.", "verified": false},
                    {"num": 4, "file": "script_5/script_5_clip_04.wav", "text": "I think the start of cooking with cast iron was always scrambled eggs.", "verified": false},
                    {"num": 5, "file": "script_5/script_5_clip_05.wav", "text": "Cast iron has changed my life. I'm a better dad.", "verified": false}
                ]
            },
            "script_6": {
                "clips": [
                    {"num": 1, "file": "script_6/script_6_clip_01.wav", "text": "Usually when people bring up cast iron, they tell me that they found a skillet that's cheaper, and they wonder what the difference in the price would be.", "verified": false},
                    {"num": 2, "file": "script_6/script_6_clip_02.wav", "text": "And until they really touch it and feel it and feel the weight or the smoothness of the bottom, they don't really understand in the handle and the way it feels in your hand, they don't really understand the difference in cooking on a surface that's maybe more rough.", "verified": false},
                    {"num": 3, "file": "script_6/script_6_clip_03.wav", "text": "Once you hold it, once you feel it, like, if those. The way you have that set up in that room, it's like, literally, you could just hang it on the wall if that's all you want to do with it. It is a beautiful object.", "verified": false},
                    {"num": 4, "file": "script_6/script_6_clip_04.wav", "text": "And I think when you're holding the less expensive ones, you can really tell the difference, and you can tell that it is heavier, it's harder to use.", "verified": false},
                    {"num": 5, "file": "script_6/script_6_clip_05.wav", "text": "And maybe there's a sense of pride in the beauty of the object and then what you made that object into by the seasoning or the imperfections.", "verified": false},
                    {"num": 6, "file": "script_6/script_6_clip_06.wav", "text": "And I think that's why cast iron seems more meaningful and why once you start using it, you want to buy more or use it for everything.", "verified": false}
                ]
            },
            "script_7": {
                "clips": [
                    {"num": 1, "file": "script_7/script_7_clip_01.wav", "text": "A year ago my wife was the one who cooked and I would make a few meals but when I cook it's meat sauce and spaghetti which is once a week.", "verified": true},
                    {"num": 2, "file": "script_7/script_7_clip_02.wav", "text": "We've always been against toxic pans and I never would buy the ceramic ones or any of the other brands that were saying they were non toxic because it still feel. We were already using non toxic pans and I would never buy the ceramic coated ones even though it seemed like the easiest way to get non stick.", "verified": true},
                    {"num": 3, "file": "script_7/script_7_clip_03.wav", "text": "But I eventually got some really nice stainless steel pans and I really perfected the preheat, the oil or whatever and cooking. So I was already getting more comfortable with cooking because of stainless steel.", "verified": true},
                    {"num": 4, "file": "script_7/script_7_clip_04.wav", "text": "But stainless steel doesn't make you feel like you're. You're not bringing it with you camping. You're not. It's probably not going to last your whole life because you're going to make it gnarly. It just wasn't the same type of experience.", "verified": true},
                    {"num": 5, "file": "script_7/script_7_clip_05.wav", "text": "By knowing that everything I cooked on a cast iron was going to be a part of its journey or I could reset it at any time.", "verified": true},
                    {"num": 6, "file": "script_7/script_7_clip_06.wav", "text": "So I already started getting into cooking because of stainless steel and I was getting more comfortable with non stick that way. And after Teflon was banned from this house I never tried any other surface because I knew they were all going to be scratched.", "verified": true}
                ]
            },
            "script_8": {
                "clips": [
                    {"num": 1, "file": "script_8/script_8_clip_01.wav", "text": "I gifted my mom a number four field skillet for her birthday which is not true. I just gifted it to her.", "verified": false},
                    {"num": 2, "file": "script_8/script_8_clip_02.wav", "text": "I gave my mom a number four skillet as a gift and she also isn't comfortable in the kitchen and I think by me doing was exciting to use what I think helped me in the kitchen to give to my mom and get her in that rhythm of maybe even just frying an egg every morning or making her life easier.", "verified": false},
                    {"num": 3, "file": "script_8/script_8_clip_03.wav", "text": "And I think she went through the same type of experience where you might think it's way harder than it is and I think by telling her you can't do it wrong and as long as you follow the preheat step in the oil step. Like, cooking with cast iron is very easy.", "verified": false},
                    {"num": 4, "file": "script_8/script_8_clip_04.wav", "text": "And I do remember her first impression of after she cooked, wondering if she did it wrong. Like, the same fears that I had.", "verified": false},
                    {"num": 5, "file": "script_8/script_8_clip_05.wav", "text": "And so I think my excitement and my new knowledge, I pass it on to my mom and she's now comfortable using it and likes using it to fry eggs.", "verified": false}
                ]
            },
            "script_9": {
                "clips": [
                    {"num": 1, "file": "script_9/script_9_clip_01.wav", "text": "I think that's why cast iron seems more meaningful and why once you start using it, you want to buy more or use it for everything.", "verified": false},
                    {"num": 2, "file": "script_9/script_9_clip_02.wav", "text": "I feel like the adventure cooking. I'm asking you a question almost while I say it, but the adventurous cooking is more of being comfortable with cooking. The adventure, I guess, is trying to sear the steak that I've never done.", "verified": false},
                    {"num": 3, "file": "script_9/script_9_clip_03.wav", "text": "I think the adventurous cooking also when you get into cast iron is trusting that you can go from pancakes and then just throw some eggs on it.", "verified": false},
                    {"num": 4, "file": "script_9/script_9_clip_04.wav", "text": "And, you know, the same way you'd cook at a diner or a really epic restaurant where they're using a griddle, you realize you can just throw anything on it and it doesn't matter how clean clean it is or if you clean it in between.", "verified": false},
                    {"num": 5, "file": "script_9/script_9_clip_05.wav", "text": "And that is another really awesome benefit of using the griddles and cast iron in general is you can make a ton of stuff and you don't have to be precious about it.", "verified": false}
                ]
            },
            "script_10": {
                "clips": [
                    {"num": 1, "file": "script_10/script_10_clip_01.wav", "text": "Sometimes I yell, I'll clean it, because I have a thing. Like, I love doing it.", "verified": false},
                    {"num": 2, "file": "script_10/script_10_clip_02.wav", "text": "I really like knowing that I cleaned it properly and reset it and it's ready to go for the next person. And that doesn't mean it's hard to do or special. It's just the way I've kept the seasoning perfect.", "verified": false},
                    {"num": 3, "file": "script_10/script_10_clip_03.wav", "text": "You take a pride in cast iron, where you've worked so hard on the seasoning, and you're really proud of it, and it's even and perfect.", "verified": false},
                    {"num": 4, "file": "script_10/script_10_clip_04.wav", "text": "It's like my efforts made that pan epic.", "verified": false},
                    {"num": 5, "file": "script_10/script_10_clip_05a.wav", "text": "I can clean that thing and be done with it after using it in less than two minutes. No different than scrubbing any other pan.", "verified": false}
                ]
            }
        };

        function renderScripts() {
            const container = document.getElementById('scripts-container');

            Object.keys(scriptsData).forEach((scriptKey, idx) => {
                const scriptNum = idx + 1;
                const script = scriptsData[scriptKey];

                const scriptDiv = document.createElement('div');
                scriptDiv.className = 'script';
                scriptDiv.innerHTML = `<h2 class="script-title">Script ${scriptNum}</h2>`;

                script.clips.forEach(clip => {
                    const clipDiv = document.createElement('div');
                    clipDiv.className = 'clip';
                    clipDiv.innerHTML = `
                        <div class="clip-header">
                            <span class="clip-number">Clip ${clip.num}</span>
                            <span class="${clip.verified ? 'verified-badge' : 'needs-check-badge'}">
                                ${clip.verified ? '✓ Verified' : 'Needs Check'}
                            </span>
                        </div>
                        <audio controls preload="metadata">
                            <source src="${clip.file}" type="audio/wav">
                        </audio>
                        <textarea id="${scriptKey}_clip_${clip.num}" rows="3">${clip.text}</textarea>
                        <div class="button-group">
                            <button class="save-btn" onclick="saveClip('${scriptKey}', ${clip.num})">Save & Mark Verified</button>
                        </div>
                    `;
                    scriptDiv.appendChild(clipDiv);
                });

                container.appendChild(scriptDiv);
            });
        }

        function saveClip(scriptKey, clipNum) {
            const textarea = document.getElementById(`${scriptKey}_clip_${clipNum}`);
            const clipIndex = scriptsData[scriptKey].clips.findIndex(c => c.num === clipNum);

            if (clipIndex !== -1) {
                scriptsData[scriptKey].clips[clipIndex].text = textarea.value;
                scriptsData[scriptKey].clips[clipIndex].verified = true;

                // Update badge
                const badge = textarea.parentElement.parentElement.querySelector('span:last-child');
                badge.className = 'verified-badge';
                badge.textContent = '✓ Verified';

                alert(`Clip ${clipNum} saved!`);
            }
        }

        function exportData() {
            const output = {};

            Object.keys(scriptsData).forEach(scriptKey => {
                const scriptNum = scriptKey.replace('script_', '');
                output[`script_${scriptNum}`] = scriptsData[scriptKey].clips.map(clip => ({
                    clip_number: clip.num,
                    text: clip.text,
                    verified: clip.verified,
                    audio_file: clip.file
                }));
            });

            const dataStr = JSON.stringify(output, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'verified_transcriptions.json';
            link.click();
        }

        // Initialize
        renderScripts();
    </script>
</body>
</html>
